AWSTemplateFormatVersion: '2010-09-09'
Description: Test template
Parameters:
  BucketName:
    Type: String
Resources:
  TestBucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: 
        Fn::Sub: "${AWS::StackName}-${BucketName}"
Outputs:
  BucketName:
    Value: 
      Fn::Sub: "${TestBucket}"
##
## Note MOTO doesnt not seem to support shortform !Sub hence the use of Fn::Sub
## See: https://github.com/getmoto/moto/issues/9283